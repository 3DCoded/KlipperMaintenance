{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Klipper Maintenance","text":"<p>Keep your 3D printer running smoothly</p> <p></p>"},{"location":"#features","title":"Features","text":"<p>Klipper Maintenance supports the following features:</p> <ul> <li>Maintenance reminders in the terminal</li> <li>Maintenance reminders on the printer display</li> <li>Print time thresholds</li> <li>Filament thresholds</li> <li>Time thresholds</li> </ul>"},{"location":"#get-started","title":"Get Started","text":"<p>Follow Installation to get started with Klipper Maintenance.</p>"},{"location":"#configuration","title":"Configuration","text":"<p>After installing KlipperMaintenance, follow Configuration to configure KlipperMaintenance.</p>"},{"location":"#usage","title":"Usage","text":"<p>To use KlipperMaintenance, follow G-Codes.</p>"},{"location":"config/","title":"Configuration","text":"<p>After installing KlipperMaintenance, follow this guide to configure it.</p>"},{"location":"config/#main-section","title":"Main Section","text":"<p>First, a main <code>[maintain]</code> section must be configured. This has two main purposes:</p> <ol> <li>Check periodically if maintenance needs to be done</li> <li>Provide the <code>MAINTAIN_STATUS</code> command</li> </ol> <p>To configure it, add to your <code>printer.cfg</code>:</p> printer.cfg<pre><code>[maintain]\ninterval: 60 # optional, time (in seconds) between checking if maintenance needs to be done (default is 60)\n</code></pre>"},{"location":"config/#maintenance-sections","title":"Maintenance Sections","text":"<p>Next, for each maintenance object, a <code>[maintain xxx]</code> config section should be configured. In this example, three maintenance objects will be configured (note the times here are purely for demonstration and are probably not ideal):</p> <ol> <li>Lubricate XY rods (250 hours print time)</li> <li>Replace air filter (500 hours time)</li> <li>Clean and tighten extruder screws (700m filament)</li> </ol> <p>For each <code>[maintain xxx]</code> section, there are four options that must be set:</p> <ul> <li><code>label</code> text that will be displayed when referring to this maintenance object</li> <li><code>trigger</code> type of event that triggers this maintenance. Currently three options:<ul> <li><code>print_time</code> print time, in hours</li> <li><code>filament</code> extruded filament, in meters (330m is roughly 1kg of PLA)</li> <li><code>time</code> time, in hours</li> </ul> </li> <li><code>threshold</code> how often maintenance needs to be done. For <code>print_time</code> and <code>time</code>, this is in hours. For <code>filament</code>, this is in meters</li> <li><code>message</code> message that will be displayed when maintenance needs to be done</li> <li><code>expired_gcode</code> GCode to run after maintenance expires. Not required</li> </ul> <p>Example:</p> printer.cfg<pre><code># Lubricate XY rods\n[maintain xyrods]\nlabel: XY smooth rods\ntrigger: print_time\nthreshold: 250\nmessage: Lubricate XY smooth rods\n\n# Replace air filter\n[maintain airfilter]\nlabel: Air filter\ntrigger: time\nthreshold: 500\nmessage: Replace HEPA and charcoal filters\n\n# Extruder maintenance\n[maintain extruder]\nlabel: Extruder maintenance\ntrigger: filament\nthreshold: 700\nmessage: Clean extruder gears and tighten extruder bolts\n</code></pre>"},{"location":"gcodes/","title":"G-Codes","text":"<p>KlipperMaintenance provides a few helper GCodes to manage your maintenance. Follow this guide to learn how to use them.</p>"},{"location":"gcodes/#maintain_status","title":"MAINTAIN_STATUS","text":"<p>Shows the current status of maintenance. Accepts no parameters. Using the example from Configuration and assuming air filter is expired, here is an example:</p> Input<pre><code>MAINTAIN_STATUS\n</code></pre> Output<pre><code>XY smooth rods: 200h remaining\nMaintenance \"Air filter\" Expired!\nReplace HEPA and charcoal filters\nExtruder maintenance: 400m remaining\n</code></pre>"},{"location":"gcodes/#check_maintenance","title":"CHECK_MAINTENANCE","text":"<p>Shows the current status of provided maintenance. Example:</p> Input<pre><code>CHECK_MAINTENANCE NAME=xyrods\n</code></pre> Output<pre><code>Maintenance xyrods Status:\nNext maintenance in 200h\nMaintenance message: Lubricate XY smooth rods\n</code></pre>"},{"location":"gcodes/#update_maintenance","title":"UPDATE_MAINTENANCE","text":"<p>Marks the provided maintenance as complete. Example:</p> input<pre><code>UPDATE_MAINTENANCE NAME=xyrods\n</code></pre> <p>This resets the maintenance timer for the <code>xyrods</code> maintenance.</p> <p>You can also pass a <code>HOURS</code> parameter to set the current amount of working hours. Example:</p> <p>Your <code>threshold</code> for <code>xyrods</code> is set to <code>350</code> print hours. You have printed for <code>100</code> hours so far.</p> <p>Run the following command:</p> input<pre><code>UPDATE_MAINTENANCE NAME=xyrods HOURS=100\n</code></pre> <p>This will ensure that KlipperMaintenance reminds you to lubricate your XY rods after <code>250</code> hours, not <code>350</code>.</p>"},{"location":"install/","title":"Installation","text":"<p>Follow this guide to install or update KlipperMaintenance.</p>"},{"location":"install/#install","title":"Install","text":"<p>To install KlipperMaintenance, run in your terminal:</p> <pre><code>cd ~\ngit clone https://github.com/3DCoded/KlipperMaintenance\ncd KlipperMaintenance\nsh install.sh\nsudo service klipper restart\n</code></pre> <p>Add to your <code>moonraker.conf</code>:</p> moonraker.conf<pre><code># KlipperMaintenance Update Manager\n[update_manager KlipperMaintenance]\ntype: git_repo\npath: ~/KlipperMaintenance\norigin: https://github.com/3DCoded/KlipperMaintenance.git\nprimary_branch: main\nis_system_service: False\ninstall_script: install.sh\n</code></pre>"},{"location":"install/#update","title":"Update","text":"<p>To update KlipperMaintenance, update via Moonraker's update manager, then run in your terminal:</p> <pre><code>cd KlipperMaintenance\nsh install.sh\nsudo service klipper restart\n</code></pre>"}]}